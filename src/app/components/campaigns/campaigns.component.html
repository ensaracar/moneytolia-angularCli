<!-- header -->
<app-header></app-header>


<div class="container d-flex flex-row mt-spacer">

  <!-- side bar -->
  <app-aside></app-aside>

  <section class="flex-grow-1">
    <!-- filtreleme alanı -->
    <div class="filter-area">
      <input type="text" placeholder="Lütfen kampanya adını giriniz..." [(ngModel)]="searchedKeyword">
      <select (ngModelChange)="sort($event)" [(ngModel)]="selectValue">
        <option value="0" disabled selected>Lütfen Seçiniz</option>
        <option value="-1">En düşük puan</option>
        <option value="1">En yüksek puan</option>
      </select>
    </div>


    <!--  kampanyalar alanı  -->
    <div class="campaigns-area mt-spacer">
      <div class="item flex-row" *ngFor="let campaign of campaigns | filter:searchedKeyword.toLowerCase(); let i = index;">
        <div class="point-box">
          <span>{{campaign.point}}</span> Puan
        </div>
        <div class="info-box">
          <h1>{{campaign.name}}</h1>
          <h3>{{campaign.desc}}</h3>
          <div class="bottom-box flex-row align-items-center">
            <div class="plus-minus-box flex-row">

              <button aria-label="eksi butonu" class="rounded-circle p-0" type="button" (click)="campaign.point = campaign.point-1; save()" *ngIf="campaign.point >= 1" >
                <svg width="30" viewBox="0 0 512 512">
                  <g>
                    <path d="M344.584,15.743C316.262,5.297,286.458,0,256,0C187.62,0,123.333,26.629,74.98,74.98C26.629,123.333,0,187.62,0,256			c0,51.364,15.155,100.913,43.828,143.288c27.977,41.349,67.005,73.417,112.863,92.735c0.953,0.401,1.941,0.591,2.914,0.591			c2.932,0,5.719-1.727,6.929-4.599c1.611-3.824-0.183-8.231-4.008-9.843c-43.168-18.185-79.909-48.375-106.25-87.305			C29.292,350.987,15.029,304.351,15.029,256c0-64.365,25.065-124.879,70.579-170.392C131.121,40.095,191.635,15.03,256,15.03			c28.677,0,56.731,4.984,83.383,14.814c3.894,1.437,8.215-0.556,9.651-4.45C350.47,21.5,348.478,17.179,344.584,15.743z"></path>
                  </g>
                  <g>
                    <path d="M473.068,120.227c-24.773-39.525-59.819-71.56-101.351-92.64c-3.701-1.878-8.224-0.402-10.102,3.3			c-1.878,3.701-0.401,8.224,3.3,10.102c39.099,19.846,72.094,50.006,95.418,87.22c23.968,38.241,36.637,82.431,36.637,127.792			c0,64.365-25.065,124.878-70.579,170.392C380.879,471.905,320.365,496.97,256,496.97c-21.795,0-43.395-2.908-64.199-8.644			c-3.998-1.101-8.138,1.247-9.242,5.248c-1.103,4.001,1.247,8.138,5.248,9.242C209.912,508.91,232.856,512,256,512			c68.38,0,132.667-26.628,181.02-74.98C485.371,388.667,512,324.38,512,256C512,207.813,498.538,160.863,473.068,120.227z"></path>
                  </g>
                  <g>
                    <path d="M352.39,248.485H159.61c-4.151,0.001-7.515,3.365-7.515,7.515c0,4.15,3.364,7.515,7.515,7.515h192.78			c4.15,0,7.515-3.365,7.515-7.515S356.541,248.485,352.39,248.485z"></path>
                  </g>
                </svg>
              </button>


              <button aria-label="arti butonu" class="rounded-circle p-0" type="button" (click)="campaign.point = campaign.point+1; save()" *ngIf="campaign.point <= 99" >
                <svg width="30" viewBox="0 0 512 512">
                  <g>
                    <path d="M331.753,11.396C307.311,3.834,281.824,0,256,0C187.62,0,123.333,26.629,74.981,74.98C26.629,123.333,0,187.62,0,256			c0,109.987,69.975,207.491,174.122,242.624c0.797,0.269,1.606,0.396,2.403,0.396c3.136,0,6.062-1.978,7.119-5.114			c1.328-3.933-0.785-8.196-4.717-9.523C80.894,451.313,15.029,359.533,15.029,256c0-64.365,25.066-124.879,70.579-170.392			S191.635,15.03,256,15.03c24.317,0,48.309,3.608,71.311,10.724c3.969,1.229,8.174-0.993,9.4-4.958			C337.938,16.831,335.718,12.622,331.753,11.396z"></path>
                  </g>
                  <g>
                    <path d="M470.473,116.171c-26.468-40.518-63.635-72.61-107.483-92.808c-3.77-1.738-8.233-0.088-9.969,3.682			c-1.736,3.77-0.088,8.233,3.682,9.969c41.277,19.014,76.268,49.228,101.188,87.377c25.567,39.137,39.08,84.647,39.08,131.61			c0,64.365-25.065,124.878-70.579,170.392C380.879,471.905,320.365,496.97,256,496.97c-15.271,0-30.55-1.437-45.412-4.271			c-4.075-0.783-8.012,1.896-8.789,5.974c-0.777,4.077,1.897,8.013,5.974,8.79C223.561,510.473,239.787,512,256,512			c68.38,0,132.667-26.628,181.02-74.98C485.371,388.667,512,324.38,512,256C512,206.111,497.64,157.759,470.473,116.171z"></path>
                  </g>
                  <g>
                    <path d="M352.391,248.485h-88.876v-88.876c0-4.15-3.364-7.515-7.515-7.515c-4.15,0-7.515,3.364-7.515,7.515v88.876H159.61			c-4.15,0-7.515,3.364-7.515,7.515c0,4.15,3.364,7.515,7.515,7.515h88.876v88.875c-0.001,4.151,3.364,7.515,7.514,7.515			c4.15,0,7.515-3.364,7.515-7.515v-88.875h88.876c4.15,0,7.515-3.365,7.515-7.515C359.906,251.85,356.542,248.485,352.391,248.485z			"></path>
                  </g>
                </svg>
              </button>



            </div>
            <div class="buttons-box flex-row">
              <button class="" type="button" (click)="update(campaign._id)">Güncelle</button>
              <button class="" type="button" (click)="delete(campaign._id)">Sil</button>
            </div>
          </div>




          <div class="modal update-modal"
          [class]="modalDisplay && campaign._id === modalId ? 'open': ''">
            <div class="modal-wrapper">
              <svg class="btn close-btn" width="50" viewBox="0 0 512 512" (click)="this.modalDisplay = false">
                <g>
                  <path d="M332.124,11.51C307.568,3.873,281.956,0,256,0C187.62,0,123.333,26.629,74.98,74.98C26.629,123.333,0,187.62,0,256			c0,51.3,15.12,100.796,43.725,143.137c27.91,41.312,66.856,73.382,112.625,92.741c0.956,0.404,1.948,0.596,2.924,0.596			c2.929,0,5.712-1.723,6.925-4.589c1.617-3.823-0.171-8.232-3.994-9.848c-43.085-18.223-79.748-48.416-106.027-87.313			C29.259,350.876,15.029,304.29,15.029,256c0-64.365,25.065-124.879,70.579-170.392C131.121,40.095,191.635,15.03,256,15.03			c24.441,0,48.551,3.644,71.66,10.832c3.961,1.231,8.175-0.98,9.408-4.944C338.3,16.955,336.087,12.743,332.124,11.51z"></path>
                </g>
                <g>
                  <path d="M471.046,117.054c-26.093-40.303-62.793-72.391-106.133-92.795c-3.755-1.767-8.231-0.158-10,3.598			c-1.768,3.755-0.157,8.232,3.598,10c40.799,19.207,75.351,49.418,99.918,87.364C483.642,164.165,496.97,209.388,496.97,256			c0,64.365-25.066,124.878-70.579,170.392C380.879,471.905,320.365,496.97,256,496.97c-21.875,0-43.552-2.93-64.428-8.707			c-3.998-1.103-8.139,1.238-9.247,5.239c-1.107,3.999,1.238,8.139,5.238,9.247C209.745,508.887,232.771,512,256,512			c68.38,0,132.667-26.628,181.019-74.98C485.371,388.667,512,324.38,512,256C512,206.484,497.839,158.437,471.046,117.054z"></path>
                </g>
                <g>
                  <path d="M329.473,318.844L266.627,256l62.844-62.845c2.935-2.934,2.935-7.693,0-10.627c-2.934-2.934-7.693-2.934-10.627,0			L256,245.373l-62.845-62.844c-2.934-2.934-7.693-2.934-10.627,0c-2.935,2.934-2.935,7.693,0,10.627L245.372,256l-62.844,62.844			c-2.935,2.936-2.935,7.693,0,10.628c1.467,1.467,3.39,2.201,5.314,2.201c1.924,0,3.846-0.734,5.314-2.201L256,266.627			l62.845,62.845c1.467,1.467,3.39,2.201,5.314,2.201c1.924,0,3.846-0.734,5.314-2.201			C332.408,326.537,332.408,321.779,329.473,318.844z"></path>
                </g>
              </svg>
              <form #updateForm="ngForm" (ngSubmit)="save()" novalidate class="d-flex align-items-center">
                <textarea name="name"
                       [(ngModel)]="campaign.name"
                       required
                       rows="3"
                       class="mt-spacer"
                          [class]="updateForm.controls.username ?.touched ? (updateForm.value.username  === '' ? 'passive' : 'active') : ''"></textarea>
                <textarea name="desc"
                       [(ngModel)]="campaign.desc"
                       required
                       rows="3"
                       class="mt-spacer"
                       [class]="updateForm.controls.password ?.touched ? (updateForm.value.password  === '' ? 'passive' : 'active') : ''"></textarea>

                <button type="submit" class="mt-spacer" [disabled]="!updateForm.valid" (click)="this.modalDisplay = false; save()">Güncelle</button>
              </form>

            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


</div>



